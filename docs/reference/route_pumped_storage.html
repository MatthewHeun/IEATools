<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Route pumped storage to Main activity electricity producer plant — route_pumped_storage • IEATools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Route pumped storage to Main activity electricity producer plant — route_pumped_storage"><meta name="description" content="The function routes Energy industry own use by Pumped storage plants
to Energy industry own use by Main activity producer electricity plants
when the value is negative, as it should be.
However, for Japan, there are a few years where
Energy industry own use by Pumped storage plants is positive.
In those instances, the Flow is changed from
Energy industry own use to
Main activity producer electricity plants and
the Flow.aggregation.point is changed to &quot;Transformation processes&quot;
the positive value is retained.
This approach preserves the overall energy balance.
This approach implicitly assumes that Japan's reported
Energy industry own use for Pumped storage plants
is a net value, not a total value.
All other countries seemingly report total values for
Energy industry own use by Pumped Storage plants,
as those values are all negative.
This function is called within the specify_all() function."><meta property="og:description" content="The function routes Energy industry own use by Pumped storage plants
to Energy industry own use by Main activity producer electricity plants
when the value is negative, as it should be.
However, for Japan, there are a few years where
Energy industry own use by Pumped storage plants is positive.
In those instances, the Flow is changed from
Energy industry own use to
Main activity producer electricity plants and
the Flow.aggregation.point is changed to &quot;Transformation processes&quot;
the positive value is retained.
This approach preserves the overall energy balance.
This approach implicitly assumes that Japan's reported
Energy industry own use for Pumped storage plants
is a net value, not a total value.
All other countries seemingly report total values for
Energy industry own use by Pumped Storage plants,
as those values are all negative.
This function is called within the specify_all() function."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IEATools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.76</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/IEATools.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/final_to_useful.html">Final to Useful Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/fix_iea_data.html">Fixes for IEA Data</a></li>
    <li><a class="dropdown-item" href="../articles/prep_psut.html">Prepare for PSUT analysis</a></li>
    <li><a class="dropdown-item" href="../articles/psut_names.html">PSUT Names</a></li>
    <li><a class="dropdown-item" href="../articles/specify.html">Specify EIOU Industries and Flows</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Route pumped storage to Main activity electricity producer plant</h1>

      <div class="d-none name"><code>route_pumped_storage.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function routes Energy industry own use by Pumped storage plants
to Energy industry own use by Main activity producer electricity plants
when the value is negative, as it should be.
However, for Japan, there are a few years where
Energy industry own use by Pumped storage plants is positive.
In those instances, the Flow is changed from
Energy industry own use to
Main activity producer electricity plants <em>and</em>
the Flow.aggregation.point is changed to "Transformation processes"
the positive value is retained.
This approach preserves the overall energy balance.
This approach implicitly assumes that Japan's reported
Energy industry own use for Pumped storage plants
is a net value, not a total value.
All other countries seemingly report total values for
Energy industry own use by Pumped Storage plants,
as those values are all negative.
This function is called within the <code><a href="specify_all.html">specify_all()</a></code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">route_pumped_storage</span><span class="op">(</span></span>
<span>  <span class="va">.tidy_iea_df</span>,</span>
<span>  specify_renewable_plants <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  flow_aggregation_point <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">flow_aggregation_point</span>,</span>
<span>  country <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">country</span>,</span>
<span>  method <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">method</span>,</span>
<span>  energy_type <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">energy_type</span>,</span>
<span>  year <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">year</span>,</span>
<span>  last_stage <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">last_stage</span>,</span>
<span>  unit <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">unit</span>,</span>
<span>  flow <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">flow</span>,</span>
<span>  e_dot <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">e_dot</span>,</span>
<span>  product <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">product</span>,</span>
<span>  eiou <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="aggregation_flows.html">aggregation_flows</a></span><span class="op">$</span><span class="va">energy_industry_own_use</span>,</span>
<span>  pumped_storage <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="eiou_flows.html">eiou_flows</a></span><span class="op">$</span><span class="va">pumped_storage_plants</span>,</span>
<span>  main_act_producer_elect <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="main_act_plants.html">main_act_plants</a></span><span class="op">$</span><span class="va">main_act_prod_elect_plants</span>,</span>
<span>  hydro_plants <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="renewable_industries.html">renewable_industries</a></span><span class="op">$</span><span class="va">hydro_plants</span>,</span>
<span>  hydro <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="renewable_products.html">renewable_products</a></span><span class="op">$</span><span class="va">hydro</span>,</span>
<span>  negzeropos <span class="op">=</span> <span class="st">".negzeropos"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--tidy-iea-df">.tidy_iea_df<a class="anchor" aria-label="anchor" href="#arg--tidy-iea-df"></a></dt>
<dd><p>The <code>.tidy_iea_df</code> which flows need to be specified.</p></dd>


<dt id="arg-specify-renewable-plants">specify_renewable_plants<a class="anchor" aria-label="anchor" href="#arg-specify-renewable-plants"></a></dt>
<dd><p>A boolean indicating whether renewable energy plants should be specified or not.
Default is FALSE.</p></dd>


<dt id="arg-flow-aggregation-point">flow_aggregation_point<a class="anchor" aria-label="anchor" href="#arg-flow-aggregation-point"></a></dt>
<dd><p>The name of the flow aggregation point column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow_aggregation_point</code>.</p></dd>


<dt id="arg-country-method-energy-type-last-stage-unit-year-product">country, method, energy_type, last_stage, unit, year, product<a class="anchor" aria-label="anchor" href="#arg-country-method-energy-type-last-stage-unit-year-product"></a></dt>
<dd><p>See <code><a href="iea_cols.html">IEATools::iea_cols</a></code>.</p></dd>


<dt id="arg-flow">flow<a class="anchor" aria-label="anchor" href="#arg-flow"></a></dt>
<dd><p>The name of the flow column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></dd>


<dt id="arg-e-dot">e_dot<a class="anchor" aria-label="anchor" href="#arg-e-dot"></a></dt>
<dd><p>The name of the energy column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></dd>


<dt id="arg-eiou">eiou<a class="anchor" aria-label="anchor" href="#arg-eiou"></a></dt>
<dd><p>A string identifying "Energy industry own use" in the <code>flow_aggregation_point</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::aggregation_flows$energy_industry_own_use</code>.</p></dd>


<dt id="arg-pumped-storage">pumped_storage<a class="anchor" aria-label="anchor" href="#arg-pumped-storage"></a></dt>
<dd><p>A string identifying "Pumped storage plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::eiou_flows$pumped_storage_plants</code>.</p></dd>


<dt id="arg-main-act-producer-elect">main_act_producer_elect<a class="anchor" aria-label="anchor" href="#arg-main-act-producer-elect"></a></dt>
<dd><p>A string identifying "Main activity producer electricity plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::main_act_plants$main_act_prod_elect_plants</code>.</p></dd>


<dt id="arg-hydro-plants">hydro_plants<a class="anchor" aria-label="anchor" href="#arg-hydro-plants"></a></dt>
<dd><p>The name of the newly created hydropower industry.
Default is <code>IEATools::renewable_industries$hydro_plants</code>.</p></dd>


<dt id="arg-hydro">hydro<a class="anchor" aria-label="anchor" href="#arg-hydro"></a></dt>
<dd><p>The name of the "Hydro" product.
Default is <code>IEATools::renewable_products$hydro</code>.</p></dd>


<dt id="arg-negzeropos">negzeropos<a class="anchor" aria-label="anchor" href="#arg-negzeropos"></a></dt>
<dd><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".negzeropos".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A modified <code>.tidy_iea_df</code> with "Pumped storage plants" industry routed
to the "Main activity producer electricity plant" industry.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="load_tidy_iea_df.html">load_tidy_iea_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="gather_producer_autoproducer.html">gather_producer_autoproducer</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 398 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Country Method EnergyType LastStage  Year LedgerSide  FlowAggregationPoint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Non-energy use      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Other               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Other               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 388 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: Flow &lt;chr&gt;, Product &lt;chr&gt;, Unit &lt;chr&gt;, Edot &lt;dbl&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Kuperus Heun, Emmanuel Aramendia, Zeke Marshall.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

