<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Specify primary production industries — specify_primary_production • IEATools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Specify primary production industries — specify_primary_production" />
<meta property="og:description" content="The IEA extended energy balances include
some Flows that identify Energy industry own use (EIOU),
the consumption of energy by energy-producing industries.
But some primary production industries that receive EIOU do not produce anything.
For example, Coal mines receive electricity
but there are no Coal mines that produce coal.
Rather, the generic Production industry produces coal.
This function solves that problem by
replacing the generic Production industry with
specific industries." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">IEATools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.32</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/IEATools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/final_to_useful.html">Final to Useful Analysis</a>
    </li>
    <li>
      <a href="../articles/fix_iea_data.html">Fixes for IEA Data</a>
    </li>
    <li>
      <a href="../articles/prep_psut.html">Prepare for PSUT analysis</a>
    </li>
    <li>
      <a href="../articles/specify.html">Specify EIOU Industries and Flows</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Specify primary production industries</h1>
    
    <div class="hidden name"><code>specify_primary_production.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The IEA extended energy balances include
some <code>Flow</code>s that identify <code>Energy industry own use</code> (EIOU),
the consumption of energy by energy-producing industries.
But some primary production industries that receive EIOU do not produce anything.
For example, <code>Coal mines</code> receive electricity
but there are no <code>Coal mines</code> that produce coal.
Rather, the generic <code>Production</code> industry produces coal.
This function solves that problem by
replacing the generic <code>Production</code> industry with
specific industries.</p>
    </div>

    <pre class="usage"><span class='fu'>specify_primary_production</span>(
  <span class='no'>.tidy_iea_df</span>,
  <span class='kw'>eiou_destinations</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Coal mines"</span>, <span class='st'>"Oil and gas extraction"</span>),
  <span class='kw'>liquefaction_regas</span> <span class='kw'>=</span> <span class='st'>"Liquefaction (LNG) / regasification plants"</span>,
  <span class='kw'>liquefaction_regas_reassign</span> <span class='kw'>=</span> <span class='st'>"Oil and gas extraction"</span>,
  <span class='kw'>production_products</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw pkg'>IEATools</span><span class='kw ns'>::</span><span class='no'><a href='primary_coal_products.html'>primary_coal_products</a></span>,
    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw pkg'>IEATools</span><span class='kw ns'>::</span><span class='no'><a href='primary_oil_products.html'>primary_oil_products</a></span>, <span class='st'>"Natural gas"</span>)),
  <span class='kw'>production_products_short_names</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Coal"</span>, <span class='st'>"Oil and natural gas"</span>),
  <span class='kw'>flow_aggregation_point</span> <span class='kw'>=</span> <span class='st'>"Flow.aggregation.point"</span>,
  <span class='kw'>eiou</span> <span class='kw'>=</span> <span class='st'>"Energy industry own use"</span>,
  <span class='kw'>transformation_processes</span> <span class='kw'>=</span> <span class='st'>"Transformation processes"</span>,
  <span class='kw'>flow</span> <span class='kw'>=</span> <span class='st'>"Flow"</span>,
  <span class='kw'>resources</span> <span class='kw'>=</span> <span class='st'>"Resources"</span>,
  <span class='kw'>production</span> <span class='kw'>=</span> <span class='st'>"Production"</span>,
  <span class='kw'>e_dot</span> <span class='kw'>=</span> <span class='st'>"E.dot"</span>,
  <span class='kw'>product</span> <span class='kw'>=</span> <span class='st'>"Product"</span>,
  <span class='kw'>notation</span> <span class='kw'>=</span> <span class='kw pkg'>IEATools</span><span class='kw ns'>::</span><span class='no'><a href='of_notation.html'>of_notation</a></span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.tidy_iea_df</th>
      <td><p>an IEA data frame whose columns have been renamed by <code><a href='rename_iea_df_cols.html'>rename_iea_df_cols()</a></code></p></td>
    </tr>
    <tr>
      <th>eiou_destinations</th>
      <td><p>a vector of destinations for EIOU for primary production of coal and coal products and oil and natural gas.
Default is <code><a href='https://rdrr.io/r/base/c.html'>c("Coal mines", "Oil and gas extraction")</a></code>.</p></td>
    </tr>
    <tr>
      <th>liquefaction_regas</th>
      <td><p>a string identifying liquefaction and regasification plants. Default is "Liquefaction (LNG) / regasification plants".</p></td>
    </tr>
    <tr>
      <th>liquefaction_regas_reassign</th>
      <td><p>a string identifying the industry to which EIOU into <code>liquefaction_regas</code> will be reassigned.
Default is "<code>Oil and gas extraction</code>".</p></td>
    </tr>
    <tr>
      <th>production_products</th>
      <td><p>a list of products for which we want to specify primary industries.
Default is <code><a href='https://rdrr.io/r/base/list.html'>list(primary_coal_products, c(primary_oil_products, "Natural gas"))</a></code>.</p></td>
    </tr>
    <tr>
      <th>production_products_short_names</th>
      <td><p>a vector of short names for primary industries.
Default is <code><a href='https://rdrr.io/r/base/c.html'>c("Coal", "Oil and natural gas")</a></code>.</p></td>
    </tr>
    <tr>
      <th>flow_aggregation_point</th>
      <td><p>the name of the flow aggregation point column in <code>.tidy_iea_df</code>.
Default is "<code>Flow.aggregation.point</code>".</p></td>
    </tr>
    <tr>
      <th>eiou</th>
      <td><p>a string identifying energy industry own use in the <code>Flow.aggregation.point</code> column of <code>.tidy_iea_df</code>.
Default is "<code>Energy industry own use</code>".</p></td>
    </tr>
    <tr>
      <th>transformation_processes</th>
      <td><p>a string identifying transformation processes in the flow column of <code>.tidy_iea_df</code>.
Default is "<code>Transformation processes</code>".</p></td>
    </tr>
    <tr>
      <th>flow</th>
      <td><p>the name of the flow column in <code>.tidy_iea_df</code>.  Default is "<code>Flow</code>".</p></td>
    </tr>
    <tr>
      <th>resources</th>
      <td><p>a string identifying resource industries to be added to <code>.tidy_iea_df</code>.
Default is "<code>Resources</code>".</p></td>
    </tr>
    <tr>
      <th>production</th>
      <td><p>a string identifying production in the flow column. Default is "<code>Production</code>".</p></td>
    </tr>
    <tr>
      <th>e_dot</th>
      <td><p>the name of the energy column in <code>.tidy_iea_df</code>. Default is "<code>E.dot</code>".</p></td>
    </tr>
    <tr>
      <th>product</th>
      <td><p>the name of the product column in <code>.tidy_iea_df</code>.  Default is "<code>Product</code>".</p></td>
    </tr>
    <tr>
      <th>notation</th>
      <td><p>a list of specification notations. Default is <code><a href='of_notation.html'>IEATools::of_notation</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>.tidy_iea_df</code> with adjusted production information for primary energy
for both coal and coal products and oil and gas extraction</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>By default, the following changes are made to <code>.tidy_iea_df</code>:</p><ol>
<li><p>Energy industry own use for <code>Liquefaction (LNG) / regasification plants</code> is
reassigned to <code>Oil and gas extraction</code>.</p></li>
<li><p>The <code>Production</code> industry for <code>coal_and_coal_products</code>
is replaced by <code>Coal mines</code>.</p></li>
<li><p>A <code>Resources [of Coal]</code> industry is created which becomes the
source of all primary <code>coal_and_coal_products</code> in the energy conversion chain.</p></li>
<li><p>Flows from <code>Resources [of Coal]</code> to <code>Coal mines</code> are added.</p></li>
<li><p>The <code>Coal mines (energy)</code> EIOU <code>Flow</code> is replaced by <code>Coal mines</code>.</p></li>
<li><p>The <code>Production</code> industry for <code>oil_and_oil_products</code> and <code>Natural gas</code>
is replaced by <code>Oil and gas extraction</code>.</p></li>
<li><p>A <code>Resources [of Oil and natural gas]</code> industry is created which becomes the
source of all primary <code>oil_and_oil_products</code> and <code>Natural gas</code> in the energy conversion chain.</p></li>
<li><p>Flows from <code>Resources [of Oil and natural gas]</code> to <code>Oil and gas extraction</code> are added.</p></li>
<li><p>The <code>Oil and gas extraction (energy)</code> EIOU <code>Flow</code> is replaced by <code>Oil and gas extraction</code>.</p></li>
</ol>

<p>Users can specify other changes by adjusting the default argument values.</p>
<p>Be sure to call this function <em>after</em> calling <code><a href='augment_iea_df.html'>augment_iea_df()</a></code> or
<code><a href='load_tidy_iea_df.html'>load_tidy_iea_df()</a></code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)
<span class='fu'><a href='load_tidy_iea_df.html'>load_tidy_iea_df</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>specify_primary_production</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='add_psut_matnames.html'>add_psut_matnames</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>Flow</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Resources (Coal)"</span>, <span class='st'>"Coal mines"</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span>(-<span class='no'>Method</span>, -<span class='no'>Last.stage</span>, -<span class='no'>Ledger.side</span>, -<span class='no'>Unit</span>)</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 8 x 8</span><span>
#&gt;   Country Energy.type  Year Flow.aggregation… Flow   Product      E.dot matnames
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>       </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>             </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>        </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> ZAF     E            </span><span style='text-decoration: underline;'>1</span><span>971 Energy industry … Coal … Electrici… -</span><span style='color: #BB0000;'>5.24</span><span style='color: #949494;'>e</span><span>1 U_EIOU  
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> ZAF     E            </span><span style='text-decoration: underline;'>2</span><span>000 Energy industry … Coal … Electrici… -</span><span style='color: #BB0000;'>2.37</span><span style='color: #949494;'>e</span><span>2 U_EIOU  
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> ZAF     E            </span><span style='text-decoration: underline;'>1</span><span>971 Transformation p… Coal … Hard coal… -</span><span style='color: #BB0000;'>3.31</span><span style='color: #949494;'>e</span><span>4 U_excl_…
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> ZAF     E            </span><span style='text-decoration: underline;'>2</span><span>000 Transformation p… Coal … Coking co… -</span><span style='color: #BB0000;'>2.37</span><span style='color: #949494;'>e</span><span>3 U_excl_…
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> ZAF     E            </span><span style='text-decoration: underline;'>2</span><span>000 Transformation p… Coal … Other bit… -</span><span style='color: #BB0000;'>1.25</span><span style='color: #949494;'>e</span><span>5 U_excl_…
#&gt; </span><span style='color: #BCBCBC;'>6</span><span> ZAF     E            </span><span style='text-decoration: underline;'>1</span><span>971 Transformation p… Coal … Hard coal…  3.31</span><span style='color: #949494;'>e</span><span>4 V       
#&gt; </span><span style='color: #BCBCBC;'>7</span><span> ZAF     E            </span><span style='text-decoration: underline;'>2</span><span>000 Transformation p… Coal … Coking co…  2.37</span><span style='color: #949494;'>e</span><span>3 V       
#&gt; </span><span style='color: #BCBCBC;'>8</span><span> ZAF     E            </span><span style='text-decoration: underline;'>2</span><span>000 Transformation p… Coal … Other bit…  1.25</span><span style='color: #949494;'>e</span><span>5 V       </div><div class='input'><span class='co'># EIOU by "Liquefaction (LNG) / regasification plants" is reassigned to "Oil and gas extraction"</span>
<span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(
  <span class='kw'>Flow.aggregation.point</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Energy industry own use"</span>),
  <span class='kw'>Flow</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Liquefaction (LNG) / regasification plants"</span>),
  <span class='kw'>Product</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Natural gas"</span>),
  <span class='kw'>E.dot</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>42</span>),
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
) <span class='kw'>%&gt;%</span>
  <span class='fu'>specify_primary_production</span>()</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1 x 4</span><span>
#&gt;   Flow.aggregation.point Flow              Product                         E.dot
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                  </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>             </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> Energy industry own u… Oil and gas extr… Natural gas [of Oil and gas ex…   -</span><span style='color: #BB0000;'>42</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matthew Heun.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


