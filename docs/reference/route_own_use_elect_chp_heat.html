<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Routes own use in electricity, chp, and heat plants EIOU flow to main activity producer flows — route_own_use_elect_chp_heat • IEATools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Routes own use in electricity, chp, and heat plants EIOU flow to main activity producer flows — route_own_use_elect_chp_heat" />
<meta property="og:description" content="This function routes the &quot;Own use in electricity, CHP and heat plants&quot;
Energy Industry Own Use flow to each of the three electricity, CHP and heat
main activity producer plants.
The function is called within the specify_all() function." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">IEATools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.51</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/IEATools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/final_to_useful.html">Final to Useful Analysis</a>
    </li>
    <li>
      <a href="../articles/fix_iea_data.html">Fixes for IEA Data</a>
    </li>
    <li>
      <a href="../articles/prep_psut.html">Prepare for PSUT analysis</a>
    </li>
    <li>
      <a href="../articles/specify.html">Specify EIOU Industries and Flows</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Routes own use in electricity, chp, and heat plants EIOU flow to main activity producer flows</h1>
    
    <div class="hidden name"><code>route_own_use_elect_chp_heat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function routes the "Own use in electricity, CHP and heat plants"
Energy Industry Own Use flow to each of the three electricity, CHP and heat
main activity producer plants.
The function is called within the <code><a href='specify_all.html'>specify_all()</a></code> function.</p>
    </div>

    <pre class="usage"><span class='fu'>route_own_use_elect_chp_heat</span><span class='op'>(</span>
  <span class='va'>.tidy_iea_df</span>,
  split_using_shares_of <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"input"</span>, <span class='st'>"output"</span><span class='op'>)</span>,
  country <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>country</span>,
  flow_aggregation_point <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>flow_aggregation_point</span>,
  flow <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>flow</span>,
  ledger_side <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>ledger_side</span>,
  method <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>method</span>,
  energy_type <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>energy_type</span>,
  last_stage <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>last_stage</span>,
  year <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>year</span>,
  product <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>product</span>,
  unit <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>unit</span>,
  e_dot <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='iea_cols.html'>iea_cols</a></span><span class='op'>$</span><span class='va'>e_dot</span>,
  supply <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='ledger_sides.html'>ledger_sides</a></span><span class='op'>$</span><span class='va'>supply</span>,
  eiou <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='aggregation_flows.html'>aggregation_flows</a></span><span class='op'>$</span><span class='va'>energy_industry_own_use</span>,
  transformation_processes <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='aggregation_flows.html'>aggregation_flows</a></span><span class='op'>$</span><span class='va'>transformation_processes</span>,
  own_use_elect_chp_heat <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='eiou_flows.html'>eiou_flows</a></span><span class='op'>$</span><span class='va'>own_use_elect_chp_heat_plants</span>,
  main_act_producer_elect <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='main_act_plants.html'>main_act_plants</a></span><span class='op'>$</span><span class='va'>main_act_prod_elect_plants</span>,
  main_act_producer_chp <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='main_act_plants.html'>main_act_plants</a></span><span class='op'>$</span><span class='va'>main_act_prod_chp_plants</span>,
  main_act_producer_heat <span class='op'>=</span> <span class='fu'>IEATools</span><span class='fu'>::</span><span class='va'><a href='main_act_plants.html'>main_act_plants</a></span><span class='op'>$</span><span class='va'>main_act_prod_heat_plants</span>,
  negzeropos <span class='op'>=</span> <span class='st'>".negzeropos"</span>,
  n_counting <span class='op'>=</span> <span class='st'>".n_counting"</span>,
  destination_flow <span class='op'>=</span> <span class='st'>".destination_flow"</span>,
  Total_main_activity_From_Func <span class='op'>=</span> <span class='st'>".Total_main_activity_From_Func"</span>,
  Total_per_main_activity_From_Func <span class='op'>=</span> <span class='st'>".Total_per_main_activity_From_Func"</span>,
  Share_per_main_activity_From_Func <span class='op'>=</span> <span class='st'>".Share_per_main_activity_From_Func"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.tidy_iea_df</th>
      <td><p>The <code>.tidy_iea_df</code> which flows need to be specified.</p></td>
    </tr>
    <tr>
      <th>split_using_shares_of</th>
      <td><p>A string that identifies which method is to be used for splitting the <code>own_use_elect_chp_heat</code> flow.
Default is "input". The other valid value is "output". See details for more information.</p></td>
    </tr>
    <tr>
      <th>country</th>
      <td><p>The name of the country column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$country</code>.</p></td>
    </tr>
    <tr>
      <th>flow_aggregation_point</th>
      <td><p>The name of the flow aggregation point column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow_aggregation_point</code>.</p></td>
    </tr>
    <tr>
      <th>flow</th>
      <td><p>The name of the flow column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></td>
    </tr>
    <tr>
      <th>ledger_side</th>
      <td><p>The name of the ledger side column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$ledger_side</code>.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The name of the method column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$method</code>.</p></td>
    </tr>
    <tr>
      <th>energy_type</th>
      <td><p>The name of the energy_type column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$energy_type</code>.</p></td>
    </tr>
    <tr>
      <th>last_stage</th>
      <td><p>The name of the last stage column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$last_stage</code>.</p></td>
    </tr>
    <tr>
      <th>year</th>
      <td><p>The name of the year column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></td>
    </tr>
    <tr>
      <th>product</th>
      <td><p>The name of the product column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$product</code>.</p></td>
    </tr>
    <tr>
      <th>unit</th>
      <td><p>The name of the unit column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$unit</code>.</p></td>
    </tr>
    <tr>
      <th>e_dot</th>
      <td><p>The name of the energy column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></td>
    </tr>
    <tr>
      <th>supply</th>
      <td><p>A string identifying "Supply" in the <code>ledger_side</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::ledger_sides$supply</code>.</p></td>
    </tr>
    <tr>
      <th>eiou</th>
      <td><p>A string identifying "Energy industry own use" in the <code>flow_aggregation_point</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::aggregation_flows$energy_industry_own_use</code>.</p></td>
    </tr>
    <tr>
      <th>transformation_processes</th>
      <td><p>A string identifying transformation processes in the <code>flow_aggregation_point</code> column of the <code>.tidy_iea_df</code>
Default is <code>IEATools::aggregation_flows$flow_aggregation_point</code>.</p></td>
    </tr>
    <tr>
      <th>own_use_elect_chp_heat</th>
      <td><p>A string identifying "Own use in electricity, CHP and heat plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::eiou_flows$own_use_elect_chp_heat_plants</code>.</p></td>
    </tr>
    <tr>
      <th>main_act_producer_elect</th>
      <td><p>A string identifying "Main activity producer electricity plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::main_act_plants$main_act_prod_elect_plants</code>.</p></td>
    </tr>
    <tr>
      <th>main_act_producer_chp</th>
      <td><p>A string identifying "Main activity producer CHP plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::main_act_plants$main_act_prod_heat_plants</code>.</p></td>
    </tr>
    <tr>
      <th>main_act_producer_heat</th>
      <td><p>A string identifying "Main activity producer electricity plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::main_act_plants$main_act_prod_heat_plants</code>.</p></td>
    </tr>
    <tr>
      <th>negzeropos</th>
      <td><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".negzeropos".</p></td>
    </tr>
    <tr>
      <th>n_counting</th>
      <td><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".n_counting".</p></td>
    </tr>
    <tr>
      <th>destination_flow</th>
      <td><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".destination_flow".</p></td>
    </tr>
    <tr>
      <th>Total_main_activity_From_Func</th>
      <td><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".Total_main_activity_From_Func".</p></td>
    </tr>
    <tr>
      <th>Total_per_main_activity_From_Func</th>
      <td><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".Total_per_main_activity_From_Func".</p></td>
    </tr>
    <tr>
      <th>Share_per_main_activity_From_Func</th>
      <td><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".Share_per_main_activity_From_Func".</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A modified version of the <code>.tidy_iea_df</code>, in which the <code>own_use_elect_chp_heat</code> flow has been routed to the main activity producer industries.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function either performs the routing using the share of outputs or of inputs of each
of the three main activity producer industries.</p>
<p>The method is selected using the <code>split_using_shares_of</code> argument,
to which either the have the "input" or "output" value can be passed.</p>
<p>When none of the main activity producer industries is present in the data frame,
the "Own use in electricity, CHP and heat plants" flow is ascribed by default to the
"Main activity producer electricity plant".</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='fu'><a href='load_tidy_iea_df.html'>load_tidy_iea_df</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>route_own_use_elect_chp_heat</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 402 x 11</span><span>
#&gt;    Country Method Energy.type Last.stage  Year Ledger.side Flow.aggregatio…
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>       </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>       </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Industry        
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Industry        
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Industry        
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Industry        
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Industry        
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Industry        
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Industry        
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Non-energy use  
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Other           
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> GHA     PCM    E           Final       </span><span style='text-decoration: underline;'>1</span><span>971 Consumption Other           
#&gt; </span><span style='color: #949494;'># … with 392 more rows, and 4 more variables: Flow </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span style='color: #949494;'>, Product </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span style='color: #949494;'>,</span><span>
#&gt; </span><span style='color: #949494;'>#   Unit </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span style='color: #949494;'>, E.dot </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matthew Heun, Emmanuel Aramendia, Zeke Marshall.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


