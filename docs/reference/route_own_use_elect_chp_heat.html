<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Routes own use in electricity, chp, and heat plants EIOU flow to main activity producer flows — route_own_use_elect_chp_heat • IEATools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Routes own use in electricity, chp, and heat plants EIOU flow to main activity producer flows — route_own_use_elect_chp_heat"><meta name="description" content='This function routes the "Own use in electricity, CHP and heat plants"
Energy Industry Own Use flow to each of the three electricity, CHP and heat
main activity producer plants.
The function is called within the specify_all() function.'><meta property="og:description" content='This function routes the "Own use in electricity, CHP and heat plants"
Energy Industry Own Use flow to each of the three electricity, CHP and heat
main activity producer plants.
The function is called within the specify_all() function.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IEATools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.76</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/IEATools.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/final_to_useful.html">Final to Useful Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/fix_iea_data.html">Fixes for IEA Data</a></li>
    <li><a class="dropdown-item" href="../articles/prep_psut.html">Prepare for PSUT analysis</a></li>
    <li><a class="dropdown-item" href="../articles/psut_names.html">PSUT Names</a></li>
    <li><a class="dropdown-item" href="../articles/specify.html">Specify EIOU Industries and Flows</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Routes own use in electricity, chp, and heat plants EIOU flow to main activity producer flows</h1>

      <div class="d-none name"><code>route_own_use_elect_chp_heat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function routes the "Own use in electricity, CHP and heat plants"
Energy Industry Own Use flow to each of the three electricity, CHP and heat
main activity producer plants.
The function is called within the <code><a href="specify_all.html">specify_all()</a></code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">route_own_use_elect_chp_heat</span><span class="op">(</span></span>
<span>  <span class="va">.tidy_iea_df</span>,</span>
<span>  split_using_shares_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"input"</span>, <span class="st">"output"</span><span class="op">)</span>,</span>
<span>  country <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">country</span>,</span>
<span>  flow_aggregation_point <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">flow_aggregation_point</span>,</span>
<span>  flow <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">flow</span>,</span>
<span>  ledger_side <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">ledger_side</span>,</span>
<span>  method <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">method</span>,</span>
<span>  energy_type <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">energy_type</span>,</span>
<span>  last_stage <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">last_stage</span>,</span>
<span>  year <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">year</span>,</span>
<span>  product <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">product</span>,</span>
<span>  unit <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">unit</span>,</span>
<span>  e_dot <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="iea_cols.html">iea_cols</a></span><span class="op">$</span><span class="va">e_dot</span>,</span>
<span>  supply <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="ledger_sides.html">ledger_sides</a></span><span class="op">$</span><span class="va">supply</span>,</span>
<span>  eiou <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="aggregation_flows.html">aggregation_flows</a></span><span class="op">$</span><span class="va">energy_industry_own_use</span>,</span>
<span>  transformation_processes <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="aggregation_flows.html">aggregation_flows</a></span><span class="op">$</span><span class="va">transformation_processes</span>,</span>
<span>  own_use_elect_chp_heat <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="eiou_flows.html">eiou_flows</a></span><span class="op">$</span><span class="va">own_use_elect_chp_heat_plants</span>,</span>
<span>  main_act_producer_elect <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="main_act_plants.html">main_act_plants</a></span><span class="op">$</span><span class="va">main_act_prod_elect_plants</span>,</span>
<span>  main_act_producer_chp <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="main_act_plants.html">main_act_plants</a></span><span class="op">$</span><span class="va">main_act_prod_chp_plants</span>,</span>
<span>  main_act_producer_heat <span class="op">=</span> <span class="fu">IEATools</span><span class="fu">::</span><span class="va"><a href="main_act_plants.html">main_act_plants</a></span><span class="op">$</span><span class="va">main_act_prod_heat_plants</span>,</span>
<span>  n_counting <span class="op">=</span> <span class="st">".n_counting"</span>,</span>
<span>  destination_flow <span class="op">=</span> <span class="st">".destination_flow"</span>,</span>
<span>  Total_main_activity_From_Func <span class="op">=</span> <span class="st">".Total_main_activity_From_Func"</span>,</span>
<span>  Total_per_main_activity_From_Func <span class="op">=</span> <span class="st">".Total_per_main_activity_From_Func"</span>,</span>
<span>  Share_per_main_activity_From_Func <span class="op">=</span> <span class="st">".Share_per_main_activity_From_Func"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--tidy-iea-df">.tidy_iea_df<a class="anchor" aria-label="anchor" href="#arg--tidy-iea-df"></a></dt>
<dd><p>The <code>.tidy_iea_df</code> which flows need to be specified.</p></dd>


<dt id="arg-split-using-shares-of">split_using_shares_of<a class="anchor" aria-label="anchor" href="#arg-split-using-shares-of"></a></dt>
<dd><p>A string that identifies which method is to be used for splitting the <code>own_use_elect_chp_heat</code> flow.
Default is "input". The other valid value is "output". See details for more information.</p></dd>


<dt id="arg-country">country<a class="anchor" aria-label="anchor" href="#arg-country"></a></dt>
<dd><p>The name of the country column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$country</code>.</p></dd>


<dt id="arg-flow-aggregation-point">flow_aggregation_point<a class="anchor" aria-label="anchor" href="#arg-flow-aggregation-point"></a></dt>
<dd><p>The name of the flow aggregation point column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow_aggregation_point</code>.</p></dd>


<dt id="arg-flow">flow<a class="anchor" aria-label="anchor" href="#arg-flow"></a></dt>
<dd><p>The name of the flow column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></dd>


<dt id="arg-ledger-side">ledger_side<a class="anchor" aria-label="anchor" href="#arg-ledger-side"></a></dt>
<dd><p>The name of the ledger side column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$ledger_side</code>.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>The name of the method column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$method</code>.</p></dd>


<dt id="arg-energy-type">energy_type<a class="anchor" aria-label="anchor" href="#arg-energy-type"></a></dt>
<dd><p>The name of the energy_type column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$energy_type</code>.</p></dd>


<dt id="arg-last-stage">last_stage<a class="anchor" aria-label="anchor" href="#arg-last-stage"></a></dt>
<dd><p>The name of the last stage column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$last_stage</code>.</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>The name of the year column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></dd>


<dt id="arg-product">product<a class="anchor" aria-label="anchor" href="#arg-product"></a></dt>
<dd><p>The name of the product column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$product</code>.</p></dd>


<dt id="arg-unit">unit<a class="anchor" aria-label="anchor" href="#arg-unit"></a></dt>
<dd><p>The name of the unit column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$unit</code>.</p></dd>


<dt id="arg-e-dot">e_dot<a class="anchor" aria-label="anchor" href="#arg-e-dot"></a></dt>
<dd><p>The name of the energy column in the <code>.tidy_iea_df</code>.
Default is <code>IEATools::iea_cols$flow</code>.</p></dd>


<dt id="arg-supply">supply<a class="anchor" aria-label="anchor" href="#arg-supply"></a></dt>
<dd><p>A string identifying "Supply" in the <code>ledger_side</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::ledger_sides$supply</code>.</p></dd>


<dt id="arg-eiou">eiou<a class="anchor" aria-label="anchor" href="#arg-eiou"></a></dt>
<dd><p>A string identifying "Energy industry own use" in the <code>flow_aggregation_point</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::aggregation_flows$energy_industry_own_use</code>.</p></dd>


<dt id="arg-transformation-processes">transformation_processes<a class="anchor" aria-label="anchor" href="#arg-transformation-processes"></a></dt>
<dd><p>A string identifying transformation processes in the <code>flow_aggregation_point</code> column of the <code>.tidy_iea_df</code>
Default is <code>IEATools::aggregation_flows$flow_aggregation_point</code>.</p></dd>


<dt id="arg-own-use-elect-chp-heat">own_use_elect_chp_heat<a class="anchor" aria-label="anchor" href="#arg-own-use-elect-chp-heat"></a></dt>
<dd><p>A string identifying "Own use in electricity, CHP and heat plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::eiou_flows$own_use_elect_chp_heat_plants</code>.</p></dd>


<dt id="arg-main-act-producer-elect">main_act_producer_elect<a class="anchor" aria-label="anchor" href="#arg-main-act-producer-elect"></a></dt>
<dd><p>A string identifying "Main activity producer electricity plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::main_act_plants$main_act_prod_elect_plants</code>.</p></dd>


<dt id="arg-main-act-producer-chp">main_act_producer_chp<a class="anchor" aria-label="anchor" href="#arg-main-act-producer-chp"></a></dt>
<dd><p>A string identifying "Main activity producer CHP plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::main_act_plants$main_act_prod_chp_plants</code>.</p></dd>


<dt id="arg-main-act-producer-heat">main_act_producer_heat<a class="anchor" aria-label="anchor" href="#arg-main-act-producer-heat"></a></dt>
<dd><p>A string identifying "Main activity producer electricity plants" in the <code>flow</code> column of the <code>.tidy_iea_df</code>.
Default is <code>IEATools::main_act_plants$main_act_prod_heat_plants</code>.</p></dd>


<dt id="arg-n-counting">n_counting<a class="anchor" aria-label="anchor" href="#arg-n-counting"></a></dt>
<dd><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".n_counting".</p></dd>


<dt id="arg-destination-flow">destination_flow<a class="anchor" aria-label="anchor" href="#arg-destination-flow"></a></dt>
<dd><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".destination_flow".</p></dd>


<dt id="arg-total-main-activity-from-func">Total_main_activity_From_Func<a class="anchor" aria-label="anchor" href="#arg-total-main-activity-from-func"></a></dt>
<dd><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".Total_main_activity_From_Func".</p></dd>


<dt id="arg-total-per-main-activity-from-func">Total_per_main_activity_From_Func<a class="anchor" aria-label="anchor" href="#arg-total-per-main-activity-from-func"></a></dt>
<dd><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".Total_per_main_activity_From_Func".</p></dd>


<dt id="arg-share-per-main-activity-from-func">Share_per_main_activity_From_Func<a class="anchor" aria-label="anchor" href="#arg-share-per-main-activity-from-func"></a></dt>
<dd><p>The name of a temporary column created in <code>.tidy_iea_df</code>.
Default is ".Share_per_main_activity_From_Func".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A modified version of the <code>.tidy_iea_df</code>, in which the <code>own_use_elect_chp_heat</code> flow has been routed to the main activity producer industries.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function either performs the routing using the share of outputs or of inputs of each
of the three main activity producer industries.</p>
<p>The method is selected using the <code>split_using_shares_of</code> argument,
to which either the have the "input" or "output" value can be passed.</p>
<p>When none of the main activity producer industries is present in the data frame,
the "Own use in electricity, CHP and heat plants" flow is ascribed by default to the
"Main activity producer electricity plant".</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="load_tidy_iea_df.html">load_tidy_iea_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">route_own_use_elect_chp_heat</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 403 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Country Method EnergyType LastStage  Year LedgerSide  FlowAggregationPoint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Industry            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Non-energy use      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Other               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> GHA     PCM    E          Final      <span style="text-decoration: underline;">1</span>971 Consumption Other               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 393 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: Flow &lt;chr&gt;, Product &lt;chr&gt;, Unit &lt;chr&gt;, Edot &lt;dbl&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Kuperus Heun, Emmanuel Aramendia, Zeke Marshall.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

