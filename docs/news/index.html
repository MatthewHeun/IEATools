<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • IEATools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IEATools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.76</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/IEATools.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/final_to_useful.html">Final to Useful Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/fix_iea_data.html">Fixes for IEA Data</a></li>
    <li><a class="dropdown-item" href="../articles/prep_psut.html">Prepare for PSUT analysis</a></li>
    <li><a class="dropdown-item" href="../articles/psut_names.html">PSUT Names</a></li>
    <li><a class="dropdown-item" href="../articles/specify.html">Specify EIOU Industries and Flows</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>

    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.76" id="ieatools-0176-2024-12-09-doi">IEATools 0.1.76 (2024-12-09) <a href="https://doi.org/10.5281/zenodo.14335708" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.14335708.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0176-2024-12-09-doi"></a></h2>
<ul><li>New function <code><a href="../reference/load_electricity_heat_output.html">load_electricity_heat_output()</a></code> creates a data frame of IEA electricity and heat output information.</li>
<li>Change names of columns to avoid PostgreSQL database conflicts. PostgreSQL doesn’t like column names containing “.” because “.” is the separator for “schema.table”.</li>
<li>New <code><a href="../reference/specify_distribution_losses.html">specify_distribution_losses()</a></code> function to specify distribution industries, within which transportation and distribution losses occur.</li>
<li>Argument added to <code><a href="../reference/add_nuclear_industry.html">add_nuclear_industry()</a></code> to ascribe some EIOU to the nuclear industry according to its output share.</li>
<li>New <code><a href="../reference/specify_renewable_plants.html">specify_renewable_plants()</a></code> function to specify renewable energy plants.</li>
<li>New <code><a href="../reference/specify_electricity_grid.html">specify_electricity_grid()</a></code> function to add an electricity grid.</li>
<li>The <code>.iea_file</code> argument to <code><a href="../reference/slurp_iea_to_raw_df.html">slurp_iea_to_raw_df()</a></code> is now vectorized, which will enable sending a vector of country IEA data files in <code>.iea_file</code>.</li>
<li>Fixed several tests for new column names and added a couple new tests for new features.
<ul><li>Now at 1365 tests, all passing.</li>
<li>Test coverage remains at 100%.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.75" id="ieatools-0175-2024-02-03-doi">IEATools 0.1.75 (2024-02-03) <a href="https://doi.org/10.5281/zenodo.10613604" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10613604.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0175-2024-02-03-doi"></a></h2>
<ul><li>
<code><a href="../reference/extend_to_useful_helper.html">extend_to_useful_helper()</a></code> and <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code> now return additional matrices, namely <code>Y_fu_details</code> and <code>U_EIOU_fu_details</code>. These new matrices provide detailed information about the process of extending to the useful stage: the final energy product, the destination sector, the useful energy product, and the final-to-useful machine.</li>
<li>New tests for new features.
<ul><li>Now at 1264 tests, all passing.</li>
<li>Test coverage remains at 100%.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.74" id="ieatools-0174-2023-12-21-doi">IEATools 0.1.74 (2023-12-21) <a href="https://doi.org/10.5281/zenodo.10420321" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10420321.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0174-2023-12-21-doi"></a></h2>
<ul><li>Added a statement of need to the README file.</li>
<li>No new tests.
<ul><li>Now at 1251 tests, all passing.</li>
<li>Test coverage remains at 100%.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.73" id="ieatools-0173-2023-12-09-doi">IEATools 0.1.73 (2023-12-09) <a href="https://doi.org/10.5281/zenodo.10327262" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10327262.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0173-2023-12-09-doi"></a></h2>
<ul><li>Attempt to fix Readme page on GitHub.</li>
<li>Better error messages when empty allocations are encountered. Now each problem is shown on its own line.</li>
<li>No new tests.
<ul><li>Now at 1251 tests, all passing.</li>
<li>Test coverage remains at 100%.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.72" id="ieatools-0172-2023-12-05-doi">IEATools 0.1.72 (2023-12-05) <a href="https://doi.org/10.5281/zenodo.10266087" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10266087.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0172-2023-12-05-doi"></a></h2>
<ul><li>Fix RUS and EST Heat. The breakup of the Soviet Union (SUN) caused many irregularities in the IEA’s energy accounting for SUN, Russia (RUS), and other former-Soviet states. In particular, the Flow of Heat is assigned to “Final consumption not elsewhere specified” and “Industry not elsewhere specified” for 1990–1992 (RUS) and 1990–1993 (EST). However, for following years, Heat is assigned to specific sectors. Other FoSUN countries do not exhibit the same problem. This Heat accounting irregularity is one of a series of problems that causes a jump in final-to-useful efficiencies for Europe and World in the CL-PFU database in the time period 1989–1990. This release includes code to perform a fix wherein Heat for both Final consumption not elsewhere specified and Industry not elsewhere specified is re-assigned to specific sectors by the proportion found in 1993 (RUS) and 1994 (EST) for 1990–1992 (RUS) and 1990–1993 (EST).</li>
<li>New tests for new features.
<ul><li>Now at 1251 tests, all passing.</li>
<li>Test coverage remains at 100%.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.71" id="ieatools-0171-2023-12-02-doi">IEATools 0.1.71 (2023-12-02) <a href="https://doi.org/10.5281/zenodo.10251305" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10251305.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0171-2023-12-02-doi"></a></h2>
<ul><li>Added code of conduct and contributing pages to documentation.</li>
<li>No new tests.
<ul><li>Still at 1241 tests, all passing.</li>
<li>Test coverage remains at 100%.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.70" id="ieatools-0170-2023-11-06-doi">IEATools 0.1.70 (2023-11-06) <a href="https://doi.org/10.5281/zenodo.10076551" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10076551.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0170-2023-11-06-doi"></a></h2>
<ul><li>Fix Australia Blast furnace gas. Australia’s Blast furnaces have an undesirable characteristic that leads to singular matrices: From 2013 onward, the production of Blast furnace gas by Blast furnaces is consumed only by Blast furnaces. No other industry or energy production machine consumes Blast furnace gas. In fact, the problem is deeper, starting in 2010, the Iron and steel industry consumes no Blast furnace gas, in apparent contradiction to the IEA’s own policies for reporting Blast furnace gas consumption. <code><a href="../reference/fix_AUS_bfg.html">fix_AUS_bfg()</a></code> fixes the Blast furnace gas data for Australia for the 2010–2020 timeframe.</li>
<li>New tests for new features.
<ul><li>Now up to 1241 tests, all passing.</li>
<li>Test coverage remains at 100%.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.69" id="ieatools-0169-2023-11-03-doi">IEATools 0.1.69 (2023-11-03) <a href="https://doi.org/10.5281/zenodo.10075549" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10075549.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0169-2023-11-03-doi"></a></h2>
<ul><li>The constant <code>nonenergy_use</code> is now aligned with IEA definitions for Non-energy use products. Specifically, now only “Additives/blending components”, “Bitumen”, “Lubricants”, “Naphtha”, “Paraffin waxes”, “Refinery feedstocks”, and “White spirit &amp; SBP” are Non-energy use Products. “Coal tar”, “Crude/NGL/feedstocks (if no detail)”, “Crude oil”, “Natural gas liquids”, “Oil shale and oil sands”, “Other hydrocarbons”, and “Other oil products” were formerly included in the constant but have now been removed.</li>
<li>Added a fix for Other non-OECD Americas Gas works. For a few years (1971–1976), Other non-OECD Americas Gas works plants consume no feedstock. Fixed data are now included by default.</li>
<li>Added a fix for Other non-OECD Americas Charcoal production plants. For many years (1971–2010), they produced Charcoal without consuming any energy (Primary solid biofuels is typical). The fixed data both
<ol style="list-style-type: lower-alpha"><li>has Charcoal production plants consume Primary solid biofuels and</li>
<li>boosts production of Primary solid biofuels accordingly.</li>
</ol></li>
<li>New tests for new features.
<ul><li>Now up to 1236 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.68" id="ieatools-0168-2023-08-18-doi">IEATools 0.1.68 (2023-08-18) <a href="https://doi.org/10.5281/zenodo.8264201" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.8264201.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0168-2023-08-18-doi"></a></h2>
<ul><li>Added note about permission to use IEA data to README.Rmd file.</li>
<li>Zenodo DOI now used in references.</li>
<li>Moved some internal constants to function arguments (<code>etwmb</code> and <code>etwab</code>) in <code><a href="../reference/aggregate_regions.html">aggregate_regions()</a></code>.</li>
<li>No new tests.
<ul><li>Still at 1216 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.67" id="ieatools-0167-2023-05-16-doi">IEATools 0.1.67 (2023-05-16) <a href="https://doi.org/10.5281/zenodo.7942864" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7942864.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0167-2023-05-16-doi"></a></h2>
<ul><li>Update website.</li>
<li>Renamed <code>matrix.class</code> argument to <code>matrix_class</code>.</li>
<li>No new tests.
<ul><li>Still at 1216 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.66" id="ieatools-0166-2023-05-03-doi">IEATools 0.1.66 (2023-05-03) <a href="https://doi.org/10.5281/zenodo.7894179" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7894179.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0166-2023-05-03-doi"></a></h2>
<ul><li>Move to latest version of GitHub test coverage workflow.</li>
<li>No new tests.
<ul><li>Still at 1216 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.65" id="ieatools-0165-2023-04-27-doi">IEATools 0.1.65 (2023-04-27) <a href="https://doi.org/10.5281/zenodo.7872573" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7872573.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0165-2023-04-27-doi"></a></h2>
<ul><li>Added new values to <code><a href="../reference/fap_flows.html">IEATools::fap_flows</a></code> to accommodate detailed “Non-energy use in xxxxx” flows.</li>
<li>Fixing IEA 2022 release Electricity data for Colombia 1971–1977. The IEA acknowledged energy balance errors in those years. The fix is to use 2021 release data for 1971–1977 for both Colombia and World.</li>
<li>No longer fixing Ghana’s industrial consumption of electricity data, because details are now available in the IEA’s WEEB data.</li>
<li>Now using terajoules (TJ) as the preferred unit for all IEA extended energy balance data.</li>
<li>Dropped support for 2018–2020 IEA extended energy balance data.</li>
<li>Now using the 2022 release of IEA extended energy balance data by default.</li>
<li>Functions now treat a zero-row incoming data frame much better, returning a zero-row data frame with columns of same type as would have been produced if the incoming data frame had at least one row.</li>
<li>
<code><a href="../reference/fd_sectors.html">IEATools::fd_sectors</a></code> now contains specific “Non-energy use in &lt;<industry>&gt;” strings to support the option to specify Non-energy use flows when possible.</industry></li>
<li>Fixed a bug where “Stock changes [of Gas/diesel oil excl. biofuels]” became “Stock changes [of Gas/diesel oil excl]”, because the <code>notation</code> argument was not being set properly in a call to <code><a href="https://matthewheun.github.io/RCLabels/reference/row-col-notation.html" class="external-link">RCLabels::get_pref_suff()</a></code> when extracting prefixes.</li>
<li>Simplifications reduced the number of tests.
<ul><li>Now up to 1216 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.64" id="ieatools-0164-2023-03-09-doi">IEATools 0.1.64 (2023-03-09) <a href="https://doi.org/10.5281/zenodo.7714342" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7714342.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0164-2023-03-09-doi"></a></h2>
<ul><li>New boolean argument <code>specify_non_energy_flows</code> on <code><a href="../reference/load_tidy_iea_df.html">load_tidy_iea_df()</a></code> enables specifying Non-energy use flows via the new <code><a href="../reference/specify_non_energy_use.html">specify_non_energy_use()</a></code> function where possible. For now, the default is <code>FALSE</code> to maintain backward compatibility (i.e., not specifying Non-energy use flows).</li>
<li>New function <code><a href="../reference/specify_non_energy_use.html">specify_non_energy_use()</a></code> uses “Memo: Non-energy use in &lt;<specific industry>&gt;” where possible.</specific></li>
<li>
<code><a href="../reference/augment_iea_df.html">augment_iea_df()</a></code> now adds <code>Flow.aggregation.point</code>s for all aggregation flows that will (eventually) be removed. This change will enable future specification of “Non-energy use in xxxxx” flows with “Memo: Non-energy use in xxxxx” where possible.</li>
<li>Added capability to use <code>Matrix</code> objects with <code><a href="../reference/prep_psut.html">prep_psut()</a></code>, <code><a href="../reference/form_C_mats.html">form_C_mats()</a></code>, <code><a href="../reference/form_eta_fu_phi_u_vecs.html">form_eta_fu_phi_u_vecs()</a></code>, <code><a href="../reference/extract_S_units_from_tidy.html">extract_S_units_from_tidy()</a></code>, and <code><a href="../reference/collapse_to_tidy_psut.html">collapse_to_tidy_psut()</a></code>. This change enables sparse matrices to save memory and disk space.</li>
<li>Eliminated all warnings from the <code>tidyselect</code> package about deprecated functionality. The package builds and tests cleanly again!</li>
<li>New argument on <code><a href="../reference/add_psut_matnames.html">add_psut_matnames()</a></code> (<code>R_includes_all_exogenous_flows</code>) switches between
<ol style="list-style-type: lower-alpha"><li>including all exogenous flows (“Resources”, “Imports”, “Statistical differences”, and “Stock changes”) in the <strong>R</strong> matrix (<code>TRUE</code>) and</li>
<li>placing only Resource flows in the <strong>R</strong> matrix (<code>FALSE</code>). Default is <code>TRUE</code>.</li>
</ol></li>
<li>Added “Main activity producer electricity plants” to the list of <code>eiou_flows</code>. We route “Own use in electricity, CHP and heat plants” to “Main activity producer electricity plants”, so we need to include “Main activity producer electricity plants” in the EIOU flows. Same for “Natural gas extraction”.</li>
<li>“Liquefaction (LNG) / regasification plants” EIOU flow now directed to the “Natural gas extraction” industry.</li>
<li>New 4-letter abbreviations for non-standard ISO country codes.</li>
<li>New tests for new features.
<ul><li>Now up to 1371 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.63" id="ieatools-0163-2022-04-01-doi">IEATools 0.1.63 (2022-04-01) <a href="https://doi.org/10.5281/zenodo.6407190" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.6407190.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0163-2022-04-01-doi"></a></h2>
<ul><li>Added <code>non_energy_flows</code> to <code>fd_sectors</code> to conform to IEA approach to calculating final energy.</li>
<li>Adding constant “nonenergy_products” which includes final energy products such as “Lubricants” which should only occur in the non-energy use sectors, but also occur in the total final consumption sectors.</li>
<li>Responded to changes in <code>RCLabels</code>. Now using “pref” and “suff” instead of “prefix” and “suffix” in several places.</li>
<li>New argument on <code><a href="../reference/slurp_iea_to_raw_df.html">slurp_iea_to_raw_df()</a></code>, <code>ensure_ascii_countries</code>, which converts characters with diacritic marks to straight ascii. The default value is <code>TRUE</code>.</li>
<li>Latin-1 encoding for IEA data files now handled correctly in <code><a href="../reference/slurp_iea_to_raw_df.html">slurp_iea_to_raw_df()</a></code>. This change enables country names like “Cote d’Ivoire” and “Curacao/Netherlands Antilles” to be read correctly from the data file.</li>
<li>Adapt to changes in <code>RCLabels</code>: <code>keep_pref_suff()</code> –&gt; <code>get_pref_suff()</code>, among others.</li>
<li>Fixed a bug where Products with no supply would create an <code>NA</code> and lead to a “Missing value where TRUE/FALSE needed” error.</li>
<li>Fixed a bug where countries with no Energy industry own use would fail in the workflow.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.62" id="ieatools-0162-2021-10-12-doi">IEATools 0.1.62 (2021-10-12) <a href="https://doi.org/10.5281/zenodo.5565349" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5565349.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0162-2021-10-12-doi"></a></h2>
<ul><li>
<code><a href="../reference/form_eta_fu_phi_u_vecs.html">form_eta_fu_phi_u_vecs()</a></code> now gives only the product name as the row name of the phi vectors, but it does so only after checking that all phi values are the same. If different phi values are detected for the same combination of metadata parameters and year, an error is emitted. This change solves a downstream issue where phi values from the <code>phi_constants.xlsx</code> file have only products as row names, leading to incompatibility when summing phi vectors from the two sources and when multiplying the phi vectors into matrices where names of a dimension are product names only.</li>
<li>
<code><a href="../reference/form_eta_fu_phi_u_vecs.html">form_eta_fu_phi_u_vecs()</a></code> now changes the name of the single column of the exergy-to-energy ratio vector (<code>phi_u</code>) from “phi.u” to simply “phi”, to become compatible with the <code>phi_pf</code> vector, whose single column is named “phi”. This change fixes a downstream bug in the <code>SEAPSUTWorkflow</code> package.</li>
<li>Added functions to assist converting energy to exergy when data are in PSUT matrix format. New functions include:
<ul><li><code><a href="../reference/load_phi_constants_table.html">load_phi_constants_table()</a></code></li>
<li><code><a href="../reference/sample_phi_constants_path.html">sample_phi_constants_path()</a></code></li>
</ul></li>
<li>Many new tests for new features.
<ul><li>Now up to 1087 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.61" id="ieatools-0161-2021-09-06-doi">IEATools 0.1.61 (2021-09-06) <a href="https://doi.org/10.5281/zenodo.5566416" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5566416.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0161-2021-09-06-doi"></a></h2>
<ul><li>Added descriptive error messages when unknown <code>Flow.aggregation.point</code>, <code>Flow</code>, or <code>Product</code> are encountered in <code><a href="../reference/arrange_iea_fu_allocation_template.html">arrange_iea_fu_allocation_template()</a></code>.</li>
<li>Added new entries to the <code>fap_flows</code> constant. These entries enable generation of templates for “World marine bunkers” and “World aviation bunkers”.</li>
<li>Many new tests for new features.
<ul><li>Now up to 1083 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.60" id="ieatools-0160-2021-09-06-doi">IEATools 0.1.60 (2021-09-06) <a href="https://doi.org/10.5281/zenodo.5476175" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5476175.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0160-2021-09-06-doi"></a></h2>
<ul><li>No longer discriminating by sign when summing EIOU after routing Pumped storage plants and Own use in electricity, CHP, and heat plants. This change avoids a situation where positive electricity EIOU by Pumped storage plants in Japan caused a problem when writing the allocation template.</li>
<li>Better error messages when energy imbalance is too large to fix.</li>
<li>Expanded many tests to verify initialization functions work for all valid years of IEA sample data.</li>
<li>Now able to read IEA Extended Energy Balance from 2020 and 2021 releases.</li>
<li>Many new tests to cover all valid years of IEA data.
<ul><li>Up to 1073 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.59" id="ieatools-0159-2021-08-20-doi">IEATools 0.1.59 (2021-08-20) <a href="https://doi.org/10.5281/zenodo.5228303" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5228303.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0159-2021-08-20-doi"></a></h2>
<ul><li>
<code><a href="../reference/load_tidy_iea_df.html">load_tidy_iea_df()</a></code> has new arguments which are passed to <code>use_iso_coutries()</code>, thereby exposing the new functionality of <code>use_iso_coutries()</code> to <code><a href="../reference/load_tidy_iea_df.html">load_tidy_iea_df()</a></code>.</li>
<li>New feature for <code><a href="../reference/use_iso_countries.html">use_iso_countries()</a></code>: can supply a data frame of ISO 3-letter codes in argument <code>override_df</code>.</li>
<li>Fixed a test coverage failure: There was no case where C_eiou_mat was missing. when testing <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code>.</li>
<li>A few new tests for new features.
<ul><li>Up to 836 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.58" id="ieatools-0158-2021-08-20-doi">IEATools 0.1.58 (2021-08-20) <a href="https://doi.org/10.5281/zenodo.5226527" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5226527.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0158-2021-08-20-doi"></a></h2>
<ul><li>Changed “Epsilon” matrix name to “Balancing”. The old name was causing issues in <code>ECCTools</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.57" id="ieatools-0157-2021-08-19-doi">IEATools 0.1.57 (2021-08-19) <a href="https://doi.org/10.5281/zenodo.5222003" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5222003.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0157-2021-08-19-doi"></a></h2>
<ul><li>Fixed a bug where missing EIOU was not properly detected. It could be missing or <code>NULL</code>, but <code>NULL</code> was not detected.</li>
<li>No new tests.
<ul><li>Still at 833 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.56" id="ieatools-0156-2021-08-18-doi">IEATools 0.1.56 (2021-08-18) <a href="https://doi.org/10.5281/zenodo.5217278" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5217278.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0156-2021-08-18-doi"></a></h2>
<ul><li>
<code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code> now robust to cases where there is no EIOU, thanks to now using <code><a href="https://matthewheun.github.io/matsindf/reference/matsindf_apply.html" class="external-link">matsindf::matsindf_apply()</a></code>.</li>
<li>Now using <code><a href="https://matthewheun.github.io/matsindf/reference/matsindf_apply.html" class="external-link">matsindf::matsindf_apply()</a></code> for <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code>. This change will enable better handling of cases where a country has no EIOU. The first use case will be bunkers.</li>
<li>No longer cleaning matrices in <code><a href="../reference/extend_to_useful_helper.html">extend_to_useful_helper()</a></code>, because some vectors may be the <code>0</code> vector and be eliminated.</li>
<li>Added <code>replace_null_UR()</code> function to the workflow in the <code><a href="../reference/prep_psut.html">prep_psut()</a></code> function.</li>
<li>New function <code>replace_null_UR()</code> replaces missing or <code>NULL</code> <code>R</code>, <code>U_feed</code>, <code>U_EIOU</code>, <code>U</code>, and <code>r_EIOU</code> with <strong>0</strong> matrices with appropriate row and column names. The replacements are built from <strong>Y</strong> and <strong>V</strong> matrices. The need for this functionality arises when the last stage is final energy and imports (<strong>V</strong> matrix) are the only source of an energy carrier that is consumed in final demand (<strong>Y</strong> matrix). In that situation, the <strong>R</strong> and <strong>U</strong> matrices will be missing, and they can be replaced by <strong>0</strong> matrices with the right dimensions.</li>
<li>In the specification process, the <code>Flow</code> for countries <code>World_X_bunkers</code> are now specified to be “International navigation” and “International aviation” to correspond with their “Domestic” equivalents.</li>
<li>New tests for new code.
<ul><li>Up to 833 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.55" id="ieatools-0155-2021-07-21-doi">IEATools 0.1.55 (2021-07-21) <a href="https://doi.org/10.5281/zenodo.5119070" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5119070.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0155-2021-07-21-doi"></a></h2>
<ul><li>Modifications to code and tests to accommodate World marine bunkers and World aviation bunkers being their own country.</li>
<li>New tests for new features.
<ul><li>Up to 808 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.54" id="ieatools-0154-2021-07-09-doi">IEATools 0.1.54 (2021-07-09) <a href="https://doi.org/10.5281/zenodo.5086372" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5086372.svg" alt="DOI"></a>
<a class="anchor" aria-label="anchor" href="#ieatools-0154-2021-07-09-doi"></a></h2>
<ul><li>Modifications to enable per-machine final-to-useful efficiency data.</li>
<li>New tests for new features.
<ul><li>Up to 790 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.53" id="ieatools-0153-2021-06-08">IEATools 0.1.53 (2021-06-08)<a class="anchor" aria-label="anchor" href="#ieatools-0153-2021-06-08"></a></h2>
<ul><li>The “Oil and gas extraction” activity is split in “Oil extraction”, which extracts oil products, and “Natural gas extraction”, which extracts natural gas.</li>
<li>New <code><a href="../reference/split_oil_gas_extraction_eiou.html">split_oil_gas_extraction_eiou()</a></code> function splits the EIOU of the “Oil and gas extraction” industry into EIOU for the “Oil extraction” and for the “Natural gas extraction” activities.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.52" id="ieatools-0152-2021-05-07">IEATools 0.1.52 (2021-05-07)<a class="anchor" aria-label="anchor" href="#ieatools-0152-2021-05-07"></a></h2>
<ul><li>Deleted an efficiency for LPG stoves in Ghana in 1971 that should not have been in the GH-ZA-Efficiency-sample-2019.xlsx file.</li>
<li>Moved A_B_data_full_2018_format_testing.csv to <code>inst/extdata</code>.</li>
<li>
<code><a href="../reference/specify_primary_production.html">specify_primary_production()</a></code> updated so that all products coming from Resources are now called Product [from Resources]. Then, for each product, a manufacturing industry takes these Product [from Resources] as inputs and transforms them into actual Products.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.51" id="ieatools-0151-2021-04-11">IEATools 0.1.51 (2021-04-11)<a class="anchor" aria-label="anchor" href="#ieatools-0151-2021-04-11"></a></h2>
<ul><li>Transition away from Travis to GitHub actions for continuous integration testing.</li>
<li>No new tests.
<ul><li>Still at 766 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.50" id="ieatools-0150-2021-03-31">IEATools 0.1.50 (2021-03-31)<a class="anchor" aria-label="anchor" href="#ieatools-0150-2021-03-31"></a></h2>
<ul><li>Now more robust support for tidy (instead of wide-by-year) format efficiency data.</li>
<li>Now more arguments are passed from top-level functions to lower-level functions, thereby allowing external callers to use non-default column names.</li>
<li>Moving some code to new syntax for referring to column names passed as function arguments.</li>
<li>New tests for new features.
<ul><li>Now up to 766 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.49" id="ieatools-0149-2021-03-17">IEATools 0.1.49 (2021-03-17)<a class="anchor" aria-label="anchor" href="#ieatools-0149-2021-03-17"></a></h2>
<ul><li>New constants: <code>industry_net_flows</code>, <code>transport_domestic_flows</code>, <code>fd_sectors</code>, <code>eiou_flows</code>, and <code>prim_agg_flows</code>
</li>
<li>Improving documentation of constants.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.48" id="ieatools-0148-2021-02-18">IEATools 0.1.48 (2021-02-18)<a class="anchor" aria-label="anchor" href="#ieatools-0148-2021-02-18"></a></h2>
<ul><li>Minor issue fixed regarding the <code>coal_and_coal_products</code> constant.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.47" id="ieatools-0147-2021-02-16">IEATools 0.1.47 (2021-02-16)<a class="anchor" aria-label="anchor" href="#ieatools-0147-2021-02-16"></a></h2>
<ul><li>New <code><a href="../reference/specify_all.html">specify_all()</a></code> function coded, so that it now splits non-specified industries, splits the IEA “Own use in electricity, CHP and heat plants” flow in main activity producer electricity, heat, and CHP plants, and so that a nuclear industry is added when needed.</li>
<li>Sub-functions for the <code><a href="../reference/specify_all.html">specify_all()</a></code> function are called within the <code><a href="../reference/specify_tp_eiou.html">specify_tp_eiou()</a></code> function.</li>
<li>These include the <code><a href="../reference/gather_producer_autoproducer.html">gather_producer_autoproducer()</a></code>, the <code><a href="../reference/route_pumped_storage.html">route_pumped_storage()</a></code>, the <code><a href="../reference/route_own_use_elect_chp_heat.html">route_own_use_elect_chp_heat()</a></code>, the <code><a href="../reference/add_nuclear_industry.html">add_nuclear_industry()</a></code>, and the <code><a href="../reference/route_non_specified_flows.html">route_non_specified_flows()</a></code> functions. *<code><a href="../reference/specify_primary_production.html">specify_primary_production()</a></code> function changed, the product naming is now modified.</li>
<li>
<code><a href="../reference/extract_S_units_from_tidy.html">extract_S_units_from_tidy()</a></code> function hotfixed so that it also works when the <code>.tidy_iea_df</code> data frame already has a <code>matnames</code> column.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.46" id="ieatools-0146-2021-02-01">IEATools 0.1.46 (2021-02-01)<a class="anchor" aria-label="anchor" href="#ieatools-0146-2021-02-01"></a></h2>
<ul><li>
<code>calc_tidy_iea_df_balances</code> function updated so that it also accounts for balancing flows when checking balances.</li>
<li>New bug in <code><a href="../reference/aggregate_regions.html">aggregate_regions()</a></code> hotfixed.</li>
<li>New option for “Epsilon” matrices and PSUT columns enables removal of some <code>Flow</code>s for footprinting analyses (and maybe other work in the future).</li>
<li>When <code>matnames</code> is present in <code>.tidy_iea_df</code>, <code><a href="../reference/add_psut_matnames.html">add_psut_matnames()</a></code> now returns <code>.tidy_iea_df</code> unmodified. This new feature enables other functions for assigning matrix names.</li>
<li>When all of <code>rownames</code>, <code>colnames</code>, <code>rowtypes</code>, and <code>coltypes</code> are present in <code>.tidy_iea_df</code>, <code><a href="../reference/add_row_col_meta.html">add_row_col_meta()</a></code> now returns <code>.tidy_iea_df</code> unmodified. This new feature enables other functions for assigning row and column names and row and column types.</li>
<li>New tests for the new features.
<ul><li>Now up to 675 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.45" id="ieatools-0145-2020-12-28">IEATools 0.1.45 (2020-12-28)<a class="anchor" aria-label="anchor" href="#ieatools-0145-2020-12-28"></a></h2>
<ul><li>Bug in <code><a href="../reference/aggregate_regions.html">aggregate_regions()</a></code> hotfixed.</li>
<li>Still 661 tests, coverage remains at 100%.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.44" id="ieatools-0144-2020-12-08">IEATools 0.1.44 (2020-12-08)<a class="anchor" aria-label="anchor" href="#ieatools-0144-2020-12-08"></a></h2>
<ul><li>Moved <code>primary_aggregates_IEA()</code> and <code>finaldemand_aggregates_IEA()</code> from the <code>Recca</code> package to <code>IEATools</code>. Functions renamed to remove the <code>_IEA</code> suffix. Hosting the functions in <code>Recca</code> must have made sense at some point. But now it is clear these functions should be in <code>IEATools</code>, because they aggregate IEA-style tidy data frames.</li>
<li>New tests for the new feature.
<ul><li>Now up to 661 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.43" id="ieatools-0143-2020-12-05">IEATools 0.1.43 (2020-12-05)<a class="anchor" aria-label="anchor" href="#ieatools-0143-2020-12-05"></a></h2>
<ul><li>
<code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code> now creates <code>r_EIOU</code> matrices</li>
<li>New tests for the new feature.
<ul><li>Now up to 659 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.42" id="ieatools-0142-2020-11-30">IEATools 0.1.42 (2020-11-30)<a class="anchor" aria-label="anchor" href="#ieatools-0142-2020-11-30"></a></h2>
<ul><li>
<code><a href="../reference/prep_psut.html">prep_psut()</a></code> now creates <code>r_EIOU</code> matrices</li>
<li>New tests for the new feature.
<ul><li>Now up to 658 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.41" id="ieatools-0141-2020-11-25">IEATools 0.1.41 (2020-11-25)<a class="anchor" aria-label="anchor" href="#ieatools-0141-2020-11-25"></a></h2>
<ul><li>Cleaned up (removed) unused arguments to <code>final_to_useful()</code>.</li>
<li>Still at 656 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.40" id="ieatools-0140-2020-11-23">IEATools 0.1.40 (2020-11-23)<a class="anchor" aria-label="anchor" href="#ieatools-0140-2020-11-23"></a></h2>
<ul><li>Now setting row name of column sums in <code><a href="../reference/extend_to_useful_helper.html">extend_to_useful_helper()</a></code> to get around a bug that occurs when a 1x1 matrix is column summed.</li>
<li>The API of <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code> now assumes that columns <code>C_Y</code>, <code>C_eiou</code>, and <code>eta_fu</code> are present in the incoming <code>.sutdata</code> data frame. This change makes the API of <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code> more consistent with the APIs of other functions in the package.</li>
<li>Still at 656 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.39" id="ieatools-0139-2020-11-19">IEATools 0.1.39 (2020-11-19)<a class="anchor" aria-label="anchor" href="#ieatools-0139-2020-11-19"></a></h2>
<ul><li>Fixed a dormant bug in <code><a href="../reference/form_eta_fu_phi_u_vecs.html">form_eta_fu_phi_u_vecs()</a></code> exposed by new code.</li>
<li>
<code><a href="../reference/form_eta_fu_phi_u_vecs.html">form_eta_fu_phi_u_vecs()</a></code> now accepts tidy data frames on input. This change allows better integration with the <code>SEAPSUTWorkflow</code> package.</li>
<li>
<code><a href="../reference/form_C_mats.html">form_C_mats()</a></code> now accepts tidy data frames on input. This change allows better integration with the <code>SEAPSUTWorkflow</code> package.</li>
<li>Still at 656 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.38" id="ieatools-0138-2020-11-19">IEATools 0.1.38 (2020-11-19)<a class="anchor" aria-label="anchor" href="#ieatools-0138-2020-11-19"></a></h2>
<ul><li>
<code><a href="../reference/prep_psut.html">prep_psut()</a></code> now returns a column for the <code>U</code> matrix in addition to <code>U_feed</code> and <code>U_EIOU</code> columns.</li>
<li>Completed the first draft of a vignette on moving from final energy to useful energy at the last stage of an energy conversion chain.</li>
<li>Still at 656 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.37" id="ieatools-0137-2020-10-07">IEATools 0.1.37 (2020-10-07)<a class="anchor" aria-label="anchor" href="#ieatools-0137-2020-10-07"></a></h2>
<ul><li>New <code><a href="../reference/aggregate_regions.html">aggregate_regions()</a></code> function that enables regional aggregation of a <code>.tidy_iea_df</code> based on a user-defined aggregation table.</li>
<li>Underlying <code><a href="../reference/read_aggregation_region_table.html">read_aggregation_region_table()</a></code> and <code><a href="../reference/default_aggregation_region_table_path.html">default_aggregation_region_table_path()</a></code> enables <code><a href="../reference/aggregate_regions.html">aggregate_regions()</a></code>.</li>
<li>Default IEA to Exiobase mapping provided as .xlsx file in the extdata folder.</li>
<li>Now 656 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.36" id="ieatools-0136-2020-09-10">IEATools 0.1.36 (2020-09-10)<a class="anchor" aria-label="anchor" href="#ieatools-0136-2020-09-10"></a></h2>
<ul><li>Fixed bug where missing eta_fu info caused failure. Needed to allow for an empty <code>eta_fu_table</code> in <code><a href="../reference/complete_eta_fu_table.html">complete_eta_fu_table()</a></code>.</li>
<li>New tests for the fixed bug.
<ul><li>Now at 636 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.35" id="ieatools-0135-2020-08-26">IEATools 0.1.35 (2020-08-26)<a class="anchor" aria-label="anchor" href="#ieatools-0135-2020-08-26"></a></h2>
<ul><li>First version that works with full SEAPSUT workflow.</li>
<li>Removed an erroneous check for energy industry own use in <code><a href="../reference/specify_primary_production.html">specify_primary_production()</a></code>. In fact, we need to specify all cases, not only if energy industry own use is present. This change solves a bug in a <code>drake</code> workflow.</li>
<li>Added spell checking to build process.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.34" id="ieatools-0134-2020-08-19">IEATools 0.1.34 (2020-08-19)<a class="anchor" aria-label="anchor" href="#ieatools-0134-2020-08-19"></a></h2>
<ul><li>Updated documentation.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.33" id="ieatools-0133-2020-08-17">IEATools 0.1.33 (2020-08-17)<a class="anchor" aria-label="anchor" href="#ieatools-0133-2020-08-17"></a></h2>
<ul><li>New tests for new features and old bugs.
<ul><li>Now at 634 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>Change from <code>U_excl_EIOU</code> to <code>U_feed</code> everywhere.</li>
<li>
<code><a href="../reference/fix_tidy_iea_df_balances.html">fix_tidy_iea_df_balances()</a></code> now deals correctly with a no-row IEA data frame.</li>
<li>Fixed a potential bug when deleting the <code>.err</code> column in fix_tidy_iea_df_balances.</li>
<li>Fixed bugs with completion code.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.32" id="ieatools-0132-2020-08-13">IEATools 0.1.32 (2020-08-13)<a class="anchor" aria-label="anchor" href="#ieatools-0132-2020-08-13"></a></h2>
<ul><li>
<code><a href="../reference/eta_fu_template.html">eta_fu_template()</a></code> now accepts tidy data frames.</li>
<li>New tests for new features and old bugs.
<ul><li>Now at 611 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>New function <code><a href="../reference/check_fu_allocation_data.html">check_fu_allocation_data()</a></code> verifies that all <code>Ef.product</code> and <code>Eu.product</code> entries are identical when <code>Machine</code> is <code>Non-energy</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.31" id="ieatools-0131-2020-07-29">IEATools 0.1.31 (2020-07-29)<a class="anchor" aria-label="anchor" href="#ieatools-0131-2020-07-29"></a></h2>
<ul><li>Adjusted tests for errors instead of warnings.
<ul><li>Now at 610 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>
<code>.tol</code> on allocation sums bumped from <code>1e-10</code> to <code>1e-9</code>, because some errors are <code>3e-10</code>.</li>
<li>Warnings are now errors with <em>much</em> more descriptive information.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.30" id="ieatools-0130-2020-07-24">IEATools 0.1.30 (2020-07-24)<a class="anchor" aria-label="anchor" href="#ieatools-0130-2020-07-24"></a></h2>
<ul><li>New tests for new features and old bugs.
<ul><li>Now up to 611 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>Fixed a bug where a completed final-to-useful allocation table would have the <code>C_source</code> column, which caused a problem when checking for completion of a final-to-useful efficiency table.</li>
<li>
<code>which_quantity</code> argument to <code><a href="../reference/complete_eta_fu_table.html">complete_eta_fu_table()</a></code> now checked for validity.</li>
<li>Added “vignettes/References.bib” file. References now display properly on readme page.</li>
<li>New function <code><a href="../reference/tidy_eta_fu_table.html">tidy_eta_fu_table()</a></code> does what the name suggests. This function (and previous new function <code><a href="../reference/tidy_fu_allocation_table.html">tidy_fu_allocation_table()</a></code>) enable elimination of duplicated code in several places.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.29" id="ieatools-0129-2020-07-21">IEATools 0.1.29 (2020-07-21)<a class="anchor" aria-label="anchor" href="#ieatools-0129-2020-07-21"></a></h2>
<ul><li>New tests for new features and old bugs.
<ul><li>Now up to 606 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>
<code><a href="../reference/extract_S_units_from_tidy.html">extract_S_units_from_tidy()</a></code> now correctly sets rowtype by default. rowtype was <code>Unit</code>, but it should have been <code>Product</code>.</li>
<li>New function <code><a href="../reference/tidy_fu_allocation_table.html">tidy_fu_allocation_table()</a></code> makes an FU allocation table tidy if it is not.</li>
<li>
<code><a href="../reference/year_cols.html">year_cols()</a></code> now returns the “Year” column, if it exists.</li>
<li>New function <code><a href="../reference/meta_cols.html">meta_cols()</a></code> gives metadata columns in any IEA data frame.</li>
<li>Refactored <code><a href="../reference/complete_fu_allocation_table.html">complete_fu_allocation_table()</a></code> and <code><a href="../reference/complete_eta_fu_table.html">complete_eta_fu_table()</a></code> to use <code><a href="../reference/fu_allocation_table_completed.html">fu_allocation_table_completed()</a></code> and <code><a href="../reference/eta_fu_table_completed.html">eta_fu_table_completed()</a></code>.</li>
<li>New function <code><a href="../reference/eta_fu_table_completed.html">eta_fu_table_completed()</a></code> tells when an FU Efficiency table is complete.</li>
<li>New function <code><a href="../reference/fu_allocation_table_completed.html">fu_allocation_table_completed()</a></code> that tells when an FU Allocation table is complete.</li>
<li>Improvements to <code>switch-notation</code> documentation.</li>
<li>Added constant <code><a href="../reference/fu_analysis_file_info.html">IEATools::fu_analysis_file_info</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.28" id="ieatools-0128-2020-07-02">IEATools 0.1.28 (2020-07-02)<a class="anchor" aria-label="anchor" href="#ieatools-0128-2020-07-02"></a></h2>
<ul><li>“Memo: Greenland”, “Memo: Palestinian Authority”, and “Memo: Uganda” are no longer included in constant <code><a href="../reference/aggregation_regions.html">IEATools::aggregation_regions</a></code>, because these regions are <em>not</em> aggregations.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.27" id="ieatools-0127-2020-06-29">IEATools 0.1.27 (2020-06-29)<a class="anchor" aria-label="anchor" href="#ieatools-0127-2020-06-29"></a></h2>
<ul><li>New tests for new features.
<ul><li>Now up to 567 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>Added new function <code><a href="../reference/remove_agg_regions.html">remove_agg_regions()</a></code> that removes known aggregation regions from an IEA extended energy balances data frame.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.26" id="ieatools-0126-2020-06-27">IEATools 0.1.26 (2020-06-27)<a class="anchor" aria-label="anchor" href="#ieatools-0126-2020-06-27"></a></h2>
<ul><li>New tests for new features.
<ul><li>Now up to 561 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>Added functions to complete an FU Allocation table and an eta_FU table: <code><a href="../reference/complete_fu_allocation_table.html">complete_fu_allocation_table()</a></code> and <code><a href="../reference/complete_eta_fu_table.html">complete_eta_fu_table()</a></code>.</li>
<li>When generating an efficiency template with <code><a href="../reference/eta_fu_template.html">eta_fu_template()</a></code>, any Machine whose name begins with “Non-energy use” is now given default efficiency (eta.fu) of 0.0001% (i.e., 1e-6) and phi of 1.0.</li>
<li>Non-energy use no longer excluded when generating FU Allocation templates.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.25" id="ieatools-0125-2020-06-19">IEATools 0.1.25 (2020-06-19)<a class="anchor" aria-label="anchor" href="#ieatools-0125-2020-06-19"></a></h2>
<ul><li>“CHN” is now a synonym for “People’s Republic of China”.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.24" id="ieatools-0124-2020-06-17">IEATools 0.1.24 (2020-06-17)<a class="anchor" aria-label="anchor" href="#ieatools-0124-2020-06-17"></a></h2>
<ul><li>Fixed a bug where “China (P.R. of China and Hong Kong, China)” was not being coded to “CHN” in <code><a href="../reference/use_iso_countries.html">use_iso_countries()</a></code>. The problem is that the <code>countrycode</code> package uses a different name from the IEA extended energy balance database. For now, I have coded “China (P.R. of China and Hong Kong, China)” as “CHN”. Another option would be to code it as “CHNHKG”.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.23" id="ieatools-0123-2020-06-17">IEATools 0.1.23 (2020-06-17)<a class="anchor" aria-label="anchor" href="#ieatools-0123-2020-06-17"></a></h2>
<ul><li>Fixed issue #5 from the PFU-Database repository. The issue involved <code><a href="../reference/eta_fu_template.html">IEATools::eta_fu_template()</a></code>. The <code>eu_product</code> <code>ke</code> was not being subtracted, leaving duplicate “KE” products in <code>eu_product_sort_order</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.22" id="ieatools-0122-2020-06-10">IEATools 0.1.22 (2020-06-10)<a class="anchor" aria-label="anchor" href="#ieatools-0122-2020-06-10"></a></h2>
<ul><li>Fixed a bug in <code><a href="../reference/despecify_col.html">despecify_col()</a></code>. <code>resources</code> and <code>production</code> were not correctly using the <code>tpes_flows</code> object.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.21" id="ieatools-0121-2020-05-14">IEATools 0.1.21 (2020-05-14)<a class="anchor" aria-label="anchor" href="#ieatools-0121-2020-05-14"></a></h2>
<ul><li>Bug fixes in <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code>. Importantly, an energy balance check is now performed at the end of <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code>, and a warning is emitted if the energy balance check fails.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.20" id="ieatools-0120-2020-05-01">IEATools 0.1.20 (2020-05-01)<a class="anchor" aria-label="anchor" href="#ieatools-0120-2020-05-01"></a></h2>
<ul><li>Added additional tests for bug fixes and new features.
<ul><li>Now up to 500 tests, all passing.</li>
<li>Test coverage remains at 100 %.</li>
</ul></li>
<li>Added function <code><a href="../reference/extend_to_useful.html">extend_to_useful()</a></code> and supporting functions <code><a href="../reference/form_C_mats.html">form_C_mats()</a></code> and <code><a href="../reference/form_eta_fu_phi_u_vecs.html">form_eta_fu_phi_u_vecs()</a></code>. These functions use a matrix method to move from last stage of final energy to last stage of useful energy.</li>
<li>Changed default number of rows in an allocation template from 3 to 4, per request from Zeke Marshall. Note that the number of rows in the allocation template is adjustable at the time the template is created using the <code>n_allocation_rows</code> argument to <code><a href="../reference/fu_allocation_template.html">fu_allocation_template()</a></code>.</li>
<li>Added functions for row and column notation in lists: <code>switch_notation_byname()</code>, <code>arrow_to_paren_byname()</code>, and <code>paren_to_arrow_byname()</code>. These functions are like <code>*_byname</code> functions in the package <code>matsbyname</code>: they accept both single matrices and lists of matrices. In that way, they are amenable to pipeline calculations using the <code>matsindf</code> package. Adding this feature exposed bugs in <code><a href="https://matthewheun.github.io/matsbyname/reference/setrownames_byname.html" class="external-link">matsbyname::setrownames_byname()</a></code> and <code><a href="https://matthewheun.github.io/matsbyname/reference/setcolnames_byname.html" class="external-link">matsbyname::setcolnames_byname()</a></code>. The bugs in <code>matsbyname</code> have been fixed, so these features are now working.</li>
<li>Added functions for row and column notation: <code>paren_to_arrow()</code>, <code>arrow_to_paren()</code>, and <code>switch_notation()</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.19" id="ieatools-0119-2020-04-01">IEATools 0.1.19 (2020-04-01)<a class="anchor" aria-label="anchor" href="#ieatools-0119-2020-04-01"></a></h2>
<ul><li>New function <code><a href="../reference/form_eta_fu_phi_u_vecs.html">form_eta_fu_phi_u_vecs()</a></code> which creates column vectors of final-to-useful efficiencies (eta_fu) and exergy-to-energy ratios (phi_u) from an efficiency table.</li>
<li>Added new test to hit code path for generating diagnostic information when FU Allocation table is mal-formed. Code coverage is back up to 100 % for testing.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.18" id="ieatools-0118-2020-03-31">IEATools 0.1.18 (2020-03-31)<a class="anchor" aria-label="anchor" href="#ieatools-0118-2020-03-31"></a></h2>
<ul><li>New function <code><a href="../reference/form_C_mats.html">form_C_mats()</a></code> which makes a data frame of C matrices (a.k.a. final-to-useful allocation matrices) and metadata from an FU Allocation table.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.17" id="ieatools-0117-2020-03-25">IEATools 0.1.17 (2020-03-25)<a class="anchor" aria-label="anchor" href="#ieatools-0117-2020-03-25"></a></h2>
<ul><li>Added several new member objects to standard names across the package:
<ul><li><code>industry_flows</code></li>
<li><code>non_specified_flows</code></li>
<li><code>transformation_processes</code></li>
<li><code>row_col_types</code></li>
<li><code>psut_cols</code></li>
<li><code>mat_meta_cols</code></li>
</ul></li>
<li>
<code><a href="../reference/extract_TK.html">extract_TK()</a></code> now accepts strings formulated for “cooling” in addition to “heating.” Thus, “LTC.15.C” is now accepted and parses correctly.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.16" id="ieatools-0116-2020-03-24">IEATools 0.1.16 (2020-03-24)<a class="anchor" aria-label="anchor" href="#ieatools-0116-2020-03-24"></a></h2>
<ul><li>Now up to 444 tests, which all pass.</li>
<li>
<code><a href="../reference/iea_file_OK.html">iea_file_OK()</a></code> now works on the 2018 IEA extended energy balance data.</li>
<li>
<code><a href="../reference/sort_iea_df.html">sort_iea_df()</a></code> now works for specified IEA data frames. Internally, <code><a href="../reference/sort_iea_df.html">sort_iea_df()</a></code> now uses <code><a href="../reference/despecify_col.html">despecify_col()</a></code>.</li>
<li>New function <code><a href="../reference/despecify_col.html">despecify_col()</a></code> removes specification decoration from a column.</li>
<li>Now using prepositions in specification strings.</li>
<li>Specification strings are now given in a package constant (<code>specify_notation</code>). These constants are referred throughout the package.</li>
<li>All constants are now lists of character strings instead of vectors to allow <code>$</code> referencing of specific list items.</li>
<li>Added names to all constants for easier programming.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.15" id="ieatools-0115-2020-03-16">IEATools 0.1.15 (2020-03-16)<a class="anchor" aria-label="anchor" href="#ieatools-0115-2020-03-16"></a></h2>
<ul><li>Now up to 429 tests!</li>
<li>Added a <code>fix_iea_data</code> vignette. See <a href="https://matthewheun.github.io/IEATools/articles/fix_iea_data.html">Fixes for IEA Data</a>.</li>
<li>Did preparatory work for future <code>fix_*</code> functions, including the internal <code><a href="../reference/do_fix.html">do_fix()</a></code> function which will work for fixing data from any country in any years, so long as a replacement data frame is available.</li>
<li>Added function <code>fix_GHA_industry_electricity()</code> which adds specificity to Ghana’s industry electricity.</li>
<li>Added function <code><a href="../reference/replace_join.html">replace_join()</a></code> to assist with IEA data fixes.</li>
<li>Added named <code>iea_cols</code> object to simplify and standardize names for columns in IEA data frames, both tidy and wide.</li>
<li>Added a “Sorting” section to the IEATools vignette. It describes the <code><a href="../reference/sort_iea_df.html">sort_iea_df()</a></code> function.</li>
<li>renamed <code>sort_tidy_iea_df()</code> –&gt; <code><a href="../reference/sort_iea_df.html">sort_iea_df()</a></code>, because the function also sorts wide data frames.</li>
<li>
<code>sort_tidy_iea_df()</code> previously worked only with tidy data frames (with a column of years). <code>sort_tidy_iea_df()</code> now also works with wide data frames (with years spread to the right).</li>
<li>Fixed a bug in <code>sort_tidy_iea_df()</code> that results in <code>NA</code> values in the <code>Last.stage</code> column.</li>
<li>Added a function called <code>sort_tidy_iea_df()</code> which sorts tidy IEA data frames with default IEA row orders.</li>
<li>Completed function called <code><a href="../reference/fix_GHA_psb.html">fix_GHA_psb()</a></code> which smooths Ghana’s Primary solid biofuels data in the years 1991–1999.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.14" id="ieatools-0114-2020-03-11">IEATools 0.1.14 (2020-03-11)<a class="anchor" aria-label="anchor" href="#ieatools-0114-2020-03-11"></a></h2>
<ul><li>Fixed an issue with argument names: overwrite –&gt; overwrite_file. The change was made in the <code>IEATools</code> package develop branch against which the latest version of the PFU-Database repository was built. However, the argument name change needs to be on the master branch of <code>IEATools</code> so that <code>install_github()</code> gets the updated argument name.</li>
<li>Added stub functions to fix certain IEA data. This capability is in development and not yet working.</li>
<li>Added a script to make internal data frames for fixing IEA data. This capability is in development and not yet working.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.13" id="ieatools-0113-2020-03-08">IEATools 0.1.13 (2020-03-08)<a class="anchor" aria-label="anchor" href="#ieatools-0113-2020-03-08"></a></h2>
<ul><li>Added template tests for both 2018 and 2019.</li>
<li>Added new sample allocation and F–&gt;U efficiency tables for 2019 data.</li>
<li>Rebuilt the sample template for F–&gt;U allocation, because new categories of energy consumption were provided for ZAF EIOU.</li>
<li>Wrote new tests for the new approaches to determining “Transformation processes” and “Energy industry own use”.</li>
<li>Implemented a new way to identify “Transformation processes” and “Energy industry own use” rows. The new method works for both the 2018 and 2019 editions of the IEA data. The new method is based on finding breakpoints between sections of the table. The method relies on the fact that each country’s rows are in exactly the same order. The validity of this assumption can be tested with <code><a href="../reference/iea_file_OK.html">iea_file_OK()</a></code>.</li>
<li>Added a new function <code><a href="../reference/adjacent_rownums.html">adjacent_rownums()</a></code> that identifies the row numbers where two adjacent entries exist. This function is used extensively when determining the row ranges for “Transformation processes” and “Energy industry own use”.</li>
<li>Added function <code><a href="../reference/sample_iea_data_path.html">sample_iea_data_path()</a></code> which takes a year (representing year of data release) as an argument. Default year is (now) 2019.<br>
In subsequent years, I will change the default year to the most-recent year available. 2018 is also supported. This function allows supporting and testing of previous years’ data versions.</li>
<li>Added <code><a href="../reference/iea_file_OK.html">iea_file_OK()</a></code> which tells whether all countries in an IEA extended energy balance table have the same order for all rows.</li>
<li>Added “Paper, pulp and printing” to the list of industries for 2019. (In the 2018 edition of the IEA’s data, “Paper, pulp and print” was the name of this industry.)</li>
<li>There is no longer an “Other” aggregation in the IEA database. One test that had expected an “Other” aggregation point in the database (using 2018 data) was failing, because the expectation is no longer met in the 2019 version of the database. The test has been changed to no longer expect an “Other” aggregation point.</li>
<li>Focused some tests that assumed some FLOWs would end in “(transf.)”, “(transformation)”, or “(energy)” on sample IEA data from 2018.<br>
No FLOWs end with those strings in the 2019 data. There is no harm to leave the code that strips trailing “(transf.)”, “(transformation)”, and “(energy)”.</li>
<li>
<code><a href="../reference/augment_iea_df.html">augment_iea_df()</a></code> now recognizes “Final consumption not elsewhere specified” as an “other” flow. “Final consumption not elsewhere specified” (in the 2019 data) is a synonym for “Non-specified (other)” (in 2018 and earlier editions of the IEA data).</li>
<li>
<code><a href="../reference/augment_iea_df.html">augment_iea_df()</a></code> now recognizes “Industry not elsewhere specified” as an industry flow. “Industry not elsewhere specified” (in the 2019 data) is a synonym for “Non-specified (industry)” (in 2018 and earlier editions of the IEA data).</li>
<li>
<code><a href="../reference/iea_df.html">iea_df()</a></code> now removes white space, even from “FLOW” entries that are quoted to protect commas.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.12" id="ieatools-0112-2020-02-26">IEATools 0.1.12 (2020-02-26)<a class="anchor" aria-label="anchor" href="#ieatools-0112-2020-02-26"></a></h2>
<ul><li>
<code><a href="../reference/iea_df.html">iea_df()</a></code> now reads files with a clean header line.</li>
<li>Improved documentation on the energy balance functions, especially <code><a href="../reference/fix_tidy_iea_df_balances.html">fix_tidy_iea_df_balances()</a></code>, where clarifying examples are now provided.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.11" id="ieatools-0111-2020-02-14">IEATools 0.1.11 (2020-02-14)<a class="anchor" aria-label="anchor" href="#ieatools-0111-2020-02-14"></a></h2>
<ul><li>
<code><a href="../reference/iea_df.html">iea_df()</a></code> now deletes columns that end with <code>estimated_year</code>, whose default value is “E”. This feature allows us to process IEA data files with column names such as “2014E”.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.10" id="ieatools-0110-2020-01-22">IEATools 0.1.10 (2020-01-22)<a class="anchor" aria-label="anchor" href="#ieatools-0110-2020-01-22"></a></h2>
<ul><li>Integrated with <a href="http://www.codecov.io" class="external-link">codecov.io</a> by adding <code>codecov.yml</code> file to repository.</li>
<li>Integrated with Travis by adding <code>.travis.yml</code> file to repository. Now, Travis builds the package automatically after each commit. In addition, test coverage is calculated after each build.</li>
<li>Now at 100 % test coverage. Got to this point by adding new tests to ensure that all parts of the code are being hit. And by adjusting the regex strings in <code><a href="../reference/extract_TK.html">extract_TK()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.9" id="ieatools-019-2020-01-15">IEATools 0.1.9 (2020-01-15)<a class="anchor" aria-label="anchor" href="#ieatools-019-2020-01-15"></a></h2>
<ul><li>Added GitHub Pages website.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.8" id="ieatools-018-2019-07-24">IEATools 0.1.8 (2019-07-24)<a class="anchor" aria-label="anchor" href="#ieatools-018-2019-07-24"></a></h2>
<ul><li>Efficiency template now includes energy flows into final-to-useful machines for each year, indicating to analysts which years need no efficiency or exergy-to-energy ratio.</li>
<li>New <code>sort_by</code> argument for <code><a href="../reference/eta_fu_template.html">eta_fu_template()</a></code> allows “useful_energy_type” and “importance”. “useful_energy_type” sorts first by <code>md</code>, <code>light</code>, <code>ke</code>, and <code>heat</code>, then by magnitude of energy flow into the machine. “importance” sorts by magnitude of energy flow into the machine only. Default is “useful_energy_type”.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.7" id="ieatools-017-2019-04-18">IEATools 0.1.7 (2019-04-18)<a class="anchor" aria-label="anchor" href="#ieatools-017-2019-04-18"></a></h2>
<ul><li>Allocation template now sorting rows in IEA order.</li>
<li>All specified primary flows now consumed somewhere in the ECC.</li>
<li>Now specifying the source of output flows from inserted machines at primary level. For example, inserting Coal mines into the ECC gives now results in Hard coal produced by (Coal mines).<br>
For example, “Hard coal (if no detail)” –&gt; “Hard coal (if no detail) (Coal mines)”.</li>
<li>Added <code><a href="../reference/fu_allocation_template.html">fu_allocation_template()</a></code> function that makes templates for deciding allocations to final-to-useful machines in Final consumption or Energy industry own use.</li>
<li>
<code><a href="../reference/specify_tp_eiou.html">specify_tp_eiou()</a></code> now aggregates inputs and outputs separately at the end of its specification process. Doing so avoids a situation where resource extraction industries would look like a Transformation process sink industry when inputs and outputs were netted together.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.6" id="ieatools-016-2019-04-06">IEATools 0.1.6 (2019-04-06)<a class="anchor" aria-label="anchor" href="#ieatools-016-2019-04-06"></a></h2>
<ul><li>Updated all three vignettes to reflect the new functions and demonstrate their use.</li>
<li>New function <code><a href="../reference/augment_iea_df.html">augment_iea_df()</a></code> now removes <code>(energy)</code>, <code>(transf.)</code>, and <code>(transformation)</code> suffixes from the <code>Flow</code> column after adding the <code>Flow.aggregation.point</code> column.</li>
<li>No longer removing countries that lack a 2-letter ISO abbreviation.</li>
<li>New function <code><a href="../reference/prep_psut.html">prep_psut()</a></code> bundles several PSUT-related functions together.</li>
<li>Added functions to generate PSUT matrices</li>
<li>Added <code>production_to_resources()</code> function to convert <code>Production</code> to <code>Resources (product)</code>.</li>
<li>Added <code><a href="../reference/specify_primary_production.html">specify_primary_production()</a></code> function to fix primary production issues in the IEA data.</li>
<li>Added constants <code>coal_and_coal_products</code>, <code>oil_and_oil_products</code>, <code>renewable_products</code>, <code>biofuels_and_waste_products</code>.</li>
<li>Rename package from <code>IEAData</code> to <code>IEATools</code> to better reflect its purpose. Users can’t get data from this package, anyway. This package will do more than distribute data. This package allows users to also manipulate data and extend to useful stage.</li>
<li>Now includes sample data from 2 countries and 2 years.</li>
<li>Converted to functions for all tasks so more general.</li>
<li>Added function to create an S_units matrix from tidy data.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Kuperus Heun, Emmanuel Aramendia, Zeke Marshall.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

